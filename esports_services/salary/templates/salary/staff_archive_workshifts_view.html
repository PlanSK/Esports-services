{% extends 'salary/dashboard.html' %}
{% load humanize %}

{% block data %}
<div class="col table-responsive border rounded m-3">
  <table class="table table-dark">
    <thead class="text-warning text-center verysmall">
      <tr>
        <th scope="col">Статус</th>
        <th scope="col">Дата</th>
        <th scope="col">Администратор кассы</th>
        <th scope="col">Администратор зала</th>
        <th scope="col">Общая выручка</th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody class="text-center verysmall">
      {% for workshift in object_list %}
      {% if workshift.is_verified %}
      <tr class>
        <td>
          <i class="fa-solid fa-calendar-check" style="color: green;"></i>
      {% else %}
      <tr class="table-active">
        <td>
          <i class="fa-solid fa-hourglass-end fa-beat" style="color: yellow;"></i>
      {% endif %}
        </td>
        <td>{{ workshift.shift_date|date:"d.m.Y" }}</td>
      {% if workshift.is_verified %}
        <td>{{ workshift.cash_admin.get_full_name }}</td>
        <td>{{ workshift.hall_admin.get_full_name }}</td>
      {% else %}
      <td>{{ workshift.cash_admin.get_full_name }}</td>
      <td>{{ workshift.hall_admin.get_full_name }}</td>
      {% endif %}
        <td>{{ workshift.summary_revenue | intcomma }}</td>
        <td><a href="{{ workshift.get_absolute_url }}?next={{ request.path }}" class="link-primary verysmall">Смотреть</a></td>
        <td>
          <a class="link-warning" href="{% url 'staff_edit_workshift' workshift.slug %}?next={{ request.path }}" data-bs-toggle="tooltip" data-bs-placement="top" title="Внести изменения">
            <i class="fa-solid fa-square-pen fa-2xl"></i>
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot class="text-center verysmall text-white">
      <tr>
        <td></td>
        <td>{{ object_list.count }}</td>
        <td colspan="2"></td>
        <td>
          {{ summary_revenue | intcomma }}
        </td>
        <td colspan="2"></td>
      </tr>
    </tfoot>
  </table>
</div>
<div class="row">
  <div class="col text-center">
    <button class="btn btn-outline-secondary verysmall" onclick="history.back()">Назад</button>
  </div>
</div>
{% endblock %}